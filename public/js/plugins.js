// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log = function f(){ log.history = log.history || []; log.history.push(arguments); if(this.console) { var args = arguments, newarr; args.callee = args.callee.caller; newarr = [].slice.call(args); if (typeof console.log === 'object') log.apply.call(console.log, console, newarr); else console.log.apply(console, newarr);}};

// make it safe to use console.log always
(function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;!!(d=c.pop());){a[d]=a[d]||b;}})
(function(){try{console.log();return window.console;}catch(a){return (window.console={});}}());

// jQuery Orbit Plugin 1.2.3 AKA featured slideshow
 // www.ZURB.com/playground
(function(a){var b={defaults:{animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4e3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1e3,directionalNav:!0,captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",afterSlideChange:a.noop,centerBullets:!0},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',init:function(b,d){var e,f=0,g=this;this.clickTimer=a.proxy(this.clickTimer,this);this.addBullet=a.proxy(this.addBullet,this);this.resetAndUnlock=a.proxy(this.resetAndUnlock,this);this.stopClock=a.proxy(this.stopClock,this);this.startTimerAfterMouseLeave=a.proxy(this.startTimerAfterMouseLeave,this);this.clearClockMouseLeaveTimer=a.proxy(this.clearClockMouseLeaveTimer,this);this.rotateTimer=a.proxy(this.rotateTimer,this);this.options=a.extend({},this.defaults,d);if("false"===this.options.timer)this.options.timer=!1;if("false"===this.options.captions)this.options.captions=!1;if("false"===this.options.directionalNav)this.options.directionalNav=!1;this.$element=a(b);this.$wrapper=this.$element.wrap(this.wrapperHTML).parent();this.$slides=this.$element.children("img, a, div");this.$element.bind("orbit.next",function(){g.shift("next")});this.$element.bind("orbit.prev",function(){g.shift("prev")});this.$element.bind("orbit.goto",function(a,b){g.shift(b)});this.$element.bind("orbit.start",function(){g.startClock()});this.$element.bind("orbit.stop",function(){g.stopClock()});e=this.$slides.filter("img");0===e.length?this.loaded():e.bind("imageready",function(){f+=1;f===e.length&&g.loaded()})},loaded:function(){this.$element.addClass("orbit").width("1px").height("1px");this.setDimentionsFromLargestSlide();this.updateOptionsIfOnlyOneSlide();this.setupFirstSlide();this.options.timer&&(this.setupTimer(),this.startClock());this.options.captions&&this.setupCaptions();this.options.directionalNav&&this.setupDirectionalNav();this.options.bullets&&(this.setupBulletNav(),this.setActiveBullet())},currentSlide:function(){return this.$slides.eq(this.activeSlide)},setDimentionsFromLargestSlide:function(){var b=this;this.$slides.each(function(){var d=a(this),e=d.width(),d=d.height();if(e>b.$element.width())b.$element.add(b.$wrapper).width(e),b.orbitWidth=b.$element.width();if(d>b.$element.height())b.$element.add(b.$wrapper).height(d),b.orbitHeight=b.$element.height();b.numberSlides+=1})},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},updateOptionsIfOnlyOneSlide:function(){if(1===this.$slides.length)this.options.directionalNav=!1,this.options.timer=!1,this.options.bullets=!1},setupFirstSlide:function(){var a=this;this.$slides.first().css({"z-index":3}).fadeIn(function(){a.$slides.css({display:"block"})})},startClock:function(){var a=this;if(!this.options.timer)return!1;this.$timer.is(":hidden")?this.clock=setInterval(function(){a.$element.trigger("orbit.next")},this.options.advanceSpeed):(this.timerRunning=!0,this.$pause.removeClass("active"),this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180))},rotateTimer:function(){var a="rotate("+this.degrees+"deg)";this.degrees+=2;this.$rotator.css({"-webkit-transform":a,"-moz-transform":a,"-o-transform":a});180<this.degrees&&(this.$rotator.addClass("move"),this.$mask.addClass("move"));if(360<this.degrees)this.$rotator.removeClass("move"),this.$mask.removeClass("move"),this.degrees=0,this.$element.trigger("orbit.next")},stopClock:function(){if(this.options.timer)this.timerRunning=!1,clearInterval(this.clock),this.$pause.addClass("active");else return!1},setupTimer:function(){this.$timer=a(this.timerHTML);this.$wrapper.append(this.$timer);this.$rotator=this.$timer.find(".rotator");this.$mask=this.$timer.find(".mask");this.$pause=this.$timer.find(".pause");this.$timer.click(this.clickTimer);this.options.startClockOnMouseOut&&(this.$wrapper.mouseleave(this.startTimerAfterMouseLeave),this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer));this.options.pauseOnHover&&this.$wrapper.mouseenter(this.stopClock)},startTimerAfterMouseLeave:function(){var a=this;this.outTimer=setTimeout(function(){a.timerRunning||a.startClock()},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){this.timerRunning?this.stopClock():this.startClock()},setupCaptions:function(){this.$caption=a(this.captionHTML);this.$wrapper.append(this.$caption);this.setCaption()},setCaption:function(){var b=this.currentSlide().attr("data-caption"),d;if(!this.options.captions)return!1;if(b)switch(d=a(b).html(),this.$caption.attr("id",b).html(d),this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed)}else switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed)}},setupDirectionalNav:function(){var a=this;this.$wrapper.append(this.directionalNavHTML);this.$wrapper.find(".left").click(function(){a.stopClock();a.$element.trigger("orbit.prev")});this.$wrapper.find(".right").click(function(){a.stopClock();a.$element.trigger("orbit.next")})},setupBulletNav:function(){this.$bullets=a(this.bulletHTML);this.$wrapper.append(this.$bullets);this.$slides.each(this.addBullet);this.options.centerBullets&&this.$bullets.css("margin-left",-this.$bullets.width()/2)},addBullet:function(b,d){var e=a("<li>"+(b+1)+"</li>"),f,g=this;this.options.bulletThumbs&&(f=a(d).attr("data-thumb"))&&e.addClass("has-thumb").css({background:"url("+this.options.bulletThumbLocation+f+") no-repeat"});this.$bullets.append(e);e.data("index",b);e.click(function(){g.stopClock();g.$element.trigger("orbit.goto",[e.data("index")])})},setActiveBullet:function(){if(this.options.bullets)this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active");else return!1},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1});this.unlock();this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(a){var b=a;this.prevActiveSlide=this.activeSlide;if(this.prevActiveSlide==b)return!1;if("1"==this.$slides.length)return!1;if(!this.locked){this.lock();if("next"==a){if(this.activeSlide++,this.activeSlide==this.numberSlides)this.activeSlide=0}else if("prev"==a){if(this.activeSlide--,0>this.activeSlide)this.activeSlide=this.numberSlides-1}else this.activeSlide=a,this.prevActiveSlide<this.activeSlide?b="next":this.prevActiveSlide>this.activeSlide&&(b="prev");this.setActiveBullet();this.$slides.eq(this.prevActiveSlide).css({"z-index":2});"fade"==this.options.animation&&this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock);"horizontal-slide"==this.options.animation&&("next"==b&&this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),"prev"==b&&this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock));"vertical-slide"==this.options.animation&&("prev"==b&&this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),"next"==b&&this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock));"horizontal-push"==this.options.animation&&("next"==b&&(this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed)),"prev"==b&&(this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed)));"vertical-push"==this.options.animation&&("next"==b&&(this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:this.orbitHeight},this.options.animationSpeed)),"prev"==b&&(this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:-this.orbitHeight},this.options.animationSpeed)));this.setCaption()}}};a.fn.orbit=function(d){return this.each(function(){a.extend({},b).init(this,d)})}})(jQuery);(function(a){function b(b,c){var d=a(b);d.bind("load.imageready",function(){c.apply(b,arguments);d.unbind("load.imageready")})}var c={};a.event.special.imageready={setup:function(a){c=a||c},add:function(d){var e=a(this),f;1===this.nodeType&&"img"===this.tagName.toLowerCase()&&""!==this.src&&(c.forceLoad?(f=e.attr("src"),e.attr("src",""),b(this,d.handler),e.attr("src",f)):this.complete||4===this.readyState?d.handler.apply(this,arguments):b(this,d.handler))},teardown:function(){a(this).unbind(".imageready")}}})(jQuery)

// Twitter Bootstrap
!function(a){a(function(){a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){function c(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),d.call(b)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),d.call(b)})}function d(a){this.$element.hide().trigger("hidden"),e.call(this)}function e(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(f,this)):f.call(this)):b&&b()}function f(){this.$backdrop.remove(),this.$backdrop=null}function g(){var b=this;this.isShown&&this.options.keyboard?a(document).on("keyup.dismiss.modal",function(a){a.which==27&&b.hide()}):this.isShown||a(document).off("keyup.dismiss.modal")}var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,g.call(this),e.call(this,function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in"),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var e=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),g.call(this),this.$element.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?c.call(this):d.call(this)}},a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);e||d.data("modal",e=new b(this,f)),typeof c=="string"?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({},e.data(),c.data());b.preventDefault(),e.modal(f)})})}(window.jQuery),!function(a){function d(){a(b).parent().removeClass("open")}var b='[data-toggle="dropdown"]',c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),e,f,g;if(c.is(".disabled, :disabled"))return;return f=c.attr("data-target"),f||(f=c.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),e=a(f),e.length||(e=c.parent()),g=e.hasClass("open"),d(),g||e.toggleClass("open"),!1}},a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a(function(){a("html").on("click.dropdown.data-api",d),a("body").on("click.dropdown",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle)})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),f;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=e.on("scroll.scroll.data-api",d),this.selector=(this.options.target||(f=a(b).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&c.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu")&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f=typeof c=="object"&&c;e||d.data("scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),e,f,g;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;e=c.find(".active a").last()[0],g=a.Event("show",{relatedTarget:e}),b.trigger(g);if(g.isDefaultPrevented())return;f=a(d),this.activate(b.parent("li"),c),this.activate(f,f.parent(),function(){b.trigger({type:"shown",relatedTarget:e})})},activate:function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g):g(),e.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger!="manual"&&(e=this.options.trigger=="hover"?"mouseenter":"focus",f=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(e,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.hide)return c.hide();clearTimeout(this.timeout),c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},isHTML:function(a){return typeof a!="string"||a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(a)},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.isHTML(b)?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function d(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.remove()})}var b=this,c=this.tip();c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d():c.remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f=typeof c=="object"&&c;e||d.data("tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),!function(a){var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.isHTML(b)?"html":"text"](b),a.find(".popover-content > *")[this.isHTML(c)?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f=typeof c=="object"&&c;e||d.data("popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed").remove()}var c=a(this),d=c.attr("data-target"),e;d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),e=a(d),b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.on(a.support.transition.end,f):f()},a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.parent('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f=typeof c=="object"&&c;e||d.data("button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){e=d.data("collapse");if(e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){c.type=="show"&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;e||d.data("collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":c.data();a(e).collapse(f)})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".active"),d=c.parent().children(),e=d.index(c),f=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(a){return a||(this.paused=!0),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this,j=a.Event("slide");this.sliding=!0,f&&this.pause(),e=e.length?e:this.$element.find(".item")[h]();if(e.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),this.$element.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c);e||d.data("carousel",e=new b(this,f)),typeof c=="number"?e.to(c):typeof c=="string"||(c=f.slide)?e[c]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!e.data("modal")&&a.extend({},e.data(),c.data());e.carousel(f),b.preventDefault()})})}(window.jQuery),!function(a){var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c=this,d,e;return this.query=this.$element.val(),this.query?(d=a.grep(this.source,function(a){return c.matcher(a)}),d=this.sorter(d),d.length?this.render(d.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keypress,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},keypress:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:if(a.type!="keydown")break;a.preventDefault(),this.prev();break;case 40:if(a.type!="keydown")break;a.preventDefault(),this.next()}a.stopPropagation()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f=typeof c=="object"&&c;e||d.data("typeahead",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery)

//Open ID login
$.fn.openid=function(){var a=$(this);var b=a.find("input[name=openid_username]");var c=a.find("input[name=openid_identifier]");var d=a.find("div:has(input[name=openid_username])>span:eq(0)");var e=a.find("div:has(input[name=openid_username])>span:eq(1)");var f=a.find("fieldset:has(input[name=openid_username])");var g=a.find("fieldset:has(input[name=openid_identifier])");var h=function(){if(b.val().length<1){b.focus();return false}c.val(d.text()+b.val()+e.text());return true};var i=function(){if(c.val().length<1){c.focus();return false}return true};var j=function(){var b=$(this);b.parent().find("li").removeClass("highlight");b.addClass("highlight");f.fadeOut();g.fadeOut();a.unbind("submit").submit(function(){c.val(a.find("li.highlight span").text())});a.submit();return false};var k=function(){var b=$(this);b.parent().find("li").removeClass("highlight");b.addClass("highlight");f.hide();g.show();c.focus();a.unbind("submit").submit(i);return false};var l=function(){var b=$(this);b.parent().find("li").removeClass("highlight");b.addClass("highlight");g.hide();f.show();a.find("label[for=openid_username] span").text(b.attr("title"));d.text(b.find("span").text().split("username")[0]);e.text("").text(b.find("span").text().split("username")[1]);c.focus();a.unbind("submit").submit(h);return false};a.find("li.direct").click(j);a.find("li.openid").click(k);a.find("li.username").click(l);c.keypress(function(a){if(a.which&&a.which==13||a.keyCode&&a.keyCode==13){return i()}});b.keypress(function(a){if(a.which&&a.which==13||a.keyCode&&a.keyCode==13){return h()}});a.find("li span").hide();a.find("li").css("line-height",0).css("cursor","pointer");a.find("li:eq(0)").click();return this};

// jQuery Form Plugin
// http://jquery.malsup.com/form/
(function(a){function c(b){var c=b.data;if(!b.isDefaultPrevented()){b.preventDefault();a(this).ajaxSubmit(c)}}function d(b){var c=b.target;var d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(e.length===0){return}c=e[0]}var f=this;f.clk=c;if(c.type=="image"){if(b.offsetX!==undefined){f.clk_x=b.offsetX;f.clk_y=b.offsetY}else if(typeof a.fn.offset=="function"){var g=d.offset();f.clk_x=b.pageX-g.left;f.clk_y=b.pageY-g.top}else{f.clk_x=b.pageX-c.offsetLeft;f.clk_y=b.pageY-c.offsetTop}}setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function e(){if(!a.fn.ajaxSubmit.debug)return;var b="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(b)}else if(window.opera&&window.opera.postError){window.opera.postError(b)}}"use strict";var b={};b.fileapi=a("<input type='file'/>").get(0).files!==undefined;b.formdata=window.FormData!==undefined;a.fn.ajaxSubmit=function(c){function x(b){var d=new FormData;for(var e=0;e<b.length;e++){d.append(b[e].name,b[e].value)}if(c.extraData){for(var f in c.extraData)if(c.extraData.hasOwnProperty(f))d.append(f,c.extraData[f])}c.data=null;var g=a.extend(true,{},a.ajaxSettings,c,{contentType:false,processData:false,cache:false,type:"POST"});if(c.uploadProgress){g.xhr=function(){var a=jQuery.ajaxSettings.xhr();if(a.upload){a.upload.onprogress=function(a){var b=0;var d=a.loaded||a.position;var e=a.total;if(a.lengthComputable){b=Math.ceil(d/e*100)}c.uploadProgress(a,d,e,b)}}return a}}g.data=null;var h=g.beforeSend;g.beforeSend=function(a,b){b.data=d;if(h)h.call(b,a,c)};a.ajax(g)}function y(b){function x(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function A(){function g(){try{var a=x(o).readyState;e("state = "+a);if(a&&a.toLowerCase()=="uninitialized")setTimeout(g,50)}catch(b){e("Server abort: ",b," (",b.name,")");F(w);if(t)clearTimeout(t);t=undefined}}var b=h.attr("target"),c=h.attr("action");f.setAttribute("target",m);if(!d){f.setAttribute("method","POST")}if(c!=j.url){f.setAttribute("action",j.url)}if(!j.skipEncodingOverride&&(!d||/post/i.test(d))){h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(j.timeout){t=setTimeout(function(){s=true;F(v)},j.timeout)}var i=[];try{if(j.extraData){for(var k in j.extraData){if(j.extraData.hasOwnProperty(k)){i.push(a('<input type="hidden" name="'+k+'">').attr("value",j.extraData[k]).appendTo(f)[0])}}}if(!j.iframeTarget){n.appendTo("body");if(o.attachEvent)o.attachEvent("onload",F);else o.addEventListener("load",F,false)}setTimeout(g,15);f.submit()}finally{f.setAttribute("action",c);if(b){f.setAttribute("target",b)}else{h.removeAttr("target")}a(i).remove()}}function F(b){if(p.aborted||E){return}try{C=x(o)}catch(c){e("cannot access response document: ",c);b=w}if(b===v&&p){p.abort("timeout");return}else if(b==w&&p){p.abort("server abort");return}if(!C||C.location.href==j.iframeSrc){if(!s)return}if(o.detachEvent)o.detachEvent("onload",F);else o.removeEventListener("load",F,false);var d="success",f;try{if(s){throw"timeout"}var g=j.dataType=="xml"||C.XMLDocument||a.isXMLDoc(C);e("isXml="+g);if(!g&&window.opera&&(C.body===null||!C.body.innerHTML)){if(--D){e("requeing onLoad callback, DOM not available");setTimeout(F,250);return}}var h=C.body?C.body:C.documentElement;p.responseText=h?h.innerHTML:null;p.responseXML=C.XMLDocument?C.XMLDocument:C;if(g)j.dataType="xml";p.getResponseHeader=function(a){var b={"content-type":j.dataType};return b[a]};if(h){p.status=Number(h.getAttribute("status"))||p.status;p.statusText=h.getAttribute("statusText")||p.statusText}var i=(j.dataType||"").toLowerCase();var k=/(json|script|text)/.test(i);if(k||j.textarea){var m=C.getElementsByTagName("textarea")[0];if(m){p.responseText=m.value;p.status=Number(m.getAttribute("status"))||p.status;p.statusText=m.getAttribute("statusText")||p.statusText}else if(k){var q=C.getElementsByTagName("pre")[0];var r=C.getElementsByTagName("body")[0];if(q){p.responseText=q.textContent?q.textContent:q.innerText}else if(r){p.responseText=r.textContent?r.textContent:r.innerText}}}else if(i=="xml"&&!p.responseXML&&p.responseText){p.responseXML=G(p.responseText)}try{B=I(p,i,j)}catch(b){d="parsererror";p.error=f=b||d}}catch(b){e("error caught: ",b);d="error";p.error=f=b||d}if(p.aborted){e("upload aborted");d=null}if(p.status){d=p.status>=200&&p.status<300||p.status===304?"success":"error"}if(d==="success"){if(j.success)j.success.call(j.context,B,"success",p);if(l)a.event.trigger("ajaxSuccess",[p,j])}else if(d){if(f===undefined)f=p.statusText;if(j.error)j.error.call(j.context,p,d,f);if(l)a.event.trigger("ajaxError",[p,j,f])}if(l)a.event.trigger("ajaxComplete",[p,j]);if(l&&!--a.active){a.event.trigger("ajaxStop")}if(j.complete)j.complete.call(j.context,p,d);E=true;if(j.timeout)clearTimeout(t);setTimeout(function(){if(!j.iframeTarget)n.remove();p.responseXML=null},100)}var f=h[0],g,i,j,l,m,n,o,p,q,r,s,t;var u=!!a.fn.prop;if(a(":input[name=submit],:input[id=submit]",f).length){alert('Error: Form elements must not have name or id of "submit".');return}if(b){for(i=0;i<k.length;i++){g=a(k[i]);if(u)g.prop("disabled",false);else g.removeAttr("disabled")}}j=a.extend(true,{},a.ajaxSettings,c);j.context=j.context||j;m="jqFormIO"+(new Date).getTime();if(j.iframeTarget){n=a(j.iframeTarget);r=n.attr("name");if(!r)n.attr("name",m);else m=r}else{n=a('<iframe name="'+m+'" src="'+j.iframeSrc+'" />');n.css({position:"absolute",top:"-1000px",left:"-1000px"})}o=n[0];p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c=b==="timeout"?"timeout":"aborted";e("aborting upload... "+c);this.aborted=1;n.attr("src",j.iframeSrc);p.error=c;if(j.error)j.error.call(j.context,p,c,b);if(l)a.event.trigger("ajaxError",[p,j,c]);if(j.complete)j.complete.call(j.context,p,c)}};l=j.global;if(l&&0===a.active++){a.event.trigger("ajaxStart")}if(l){a.event.trigger("ajaxSend",[p,j])}if(j.beforeSend&&j.beforeSend.call(j.context,p,j)===false){if(j.global){a.active--}return}if(p.aborted){return}q=f.clk;if(q){r=q.name;if(r&&!q.disabled){j.extraData=j.extraData||{};j.extraData[r]=q.value;if(q.type=="image"){j.extraData[r+".x"]=f.clk_x;j.extraData[r+".y"]=f.clk_y}}}var v=1;var w=2;var y=a("meta[name=csrf-token]").attr("content");var z=a("meta[name=csrf-param]").attr("content");if(z&&y){j.extraData=j.extraData||{};j.extraData[z]=y}if(j.forceSync){A()}else{setTimeout(A,10)}var B,C,D=50,E;var G=a.parseXML||function(a,b){if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}else{b=(new DOMParser).parseFromString(a,"text/xml")}return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null};var H=a.parseJSON||function(a){return window["eval"]("("+a+")")};var I=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f=c==="xml"||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;if(f&&g.documentElement.nodeName==="parsererror"){if(a.error)a.error("parsererror")}if(d&&d.dataFilter){g=d.dataFilter(g,c)}if(typeof g==="string"){if(c==="json"||!c&&e.indexOf("json")>=0){g=H(g)}else if(c==="script"||!c&&e.indexOf("javascript")>=0){a.globalEval(g)}}return g}}if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}var d,f,g,h=this;if(typeof c=="function"){c={success:c}}d=this.attr("method");f=this.attr("action");g=typeof f==="string"?a.trim(f):"";g=g||window.location.href||"";if(g){g=(g.match(/^([^#]+)/)||[])[1]}c=a.extend(true,{url:g,success:a.ajaxSettings.success,type:d||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var i={};this.trigger("form-pre-serialize",[this,c,i]);if(i.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(c.beforeSerialize&&c.beforeSerialize(this,c)===false){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var j=c.traditional;if(j===undefined){j=a.ajaxSettings.traditional}var k=[];var l,m=this.formToArray(c.semantic,k);if(c.data){c.extraData=c.data;l=a.param(c.data,j)}if(c.beforeSubmit&&c.beforeSubmit(m,this,c)===false){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[m,this,c,i]);if(i.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var n=a.param(m,j);if(l){n=n?n+"&"+l:l}if(c.type.toUpperCase()=="GET"){c.url+=(c.url.indexOf("?")>=0?"&":"?")+n;c.data=null}else{c.data=n}var o=[];if(c.resetForm){o.push(function(){h.resetForm()})}if(c.clearForm){o.push(function(){h.clearForm(c.includeHidden)})}if(!c.dataType&&c.target){var p=c.success||function(){};o.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(p,arguments)})}else if(c.success){o.push(c.success)}c.success=function(a,b,d){var e=c.context||c;for(var f=0,g=o.length;f<g;f++){o[f].apply(e,[a,b,d||h,h])}};var q=a("input:file:enabled[value]",this);var r=q.length>0;var s="multipart/form-data";var t=h.attr("enctype")==s||h.attr("encoding")==s;var u=b.fileapi&&b.formdata;e("fileAPI :"+u);var v=(r||t)&&!u;if(c.iframe!==false&&(c.iframe||v)){if(c.closeKeepAlive){a.get(c.closeKeepAlive,function(){y(m)})}else{y(m)}}else if((r||t)&&u){x(m)}else{a.ajax(c)}for(var w=0;w<k.length;w++)k[w]=null;this.trigger("form-submit-notify",[this,c]);return this};a.fn.ajaxForm=function(b){b=b||{};b.delegation=b.delegation&&a.isFunction(a.fn.on);if(!b.delegation&&this.length===0){var f={s:this.selector,c:this.context};if(!a.isReady&&f.s){e("DOM not ready, queuing ajaxForm");a(function(){a(f.s,f.c).ajaxForm(b)});return this}e("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}if(b.delegation){a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,d).on("submit.form-plugin",this.selector,b,c).on("click.form-plugin",this.selector,b,d);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",b,c).bind("click.form-plugin",b,d)};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(c,d){var e=[];if(this.length===0){return e}var f=this[0];var g=c?f.getElementsByTagName("*"):f.elements;if(!g){return e}var h,i,j,k,l,m,n;for(h=0,m=g.length;h<m;h++){l=g[h];j=l.name;if(!j){continue}if(c&&f.clk&&l.type=="image"){if(!l.disabled&&f.clk==l){e.push({name:j,value:a(l).val(),type:l.type});e.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y})}continue}k=a.fieldValue(l,true);if(k&&k.constructor==Array){if(d)d.push(l);for(i=0,n=k.length;i<n;i++){e.push({name:j,value:k[i]})}}else if(b.fileapi&&l.type=="file"&&!l.disabled){if(d)d.push(l);var o=l.files;if(o.length){for(i=0;i<o.length;i++){e.push({name:j,value:o[i],type:l.type})}}else{e.push({name:j,value:"",type:l.type})}}else if(k!==null&&typeof k!="undefined"){if(d)d.push(l);e.push({name:j,value:k,type:l.type,required:l.required})}}if(!c&&f.clk){var p=a(f.clk),q=p[0];j=q.name;if(j&&!q.disabled&&q.type=="image"){e.push({name:j,value:p.val()});e.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y})}}return e};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var d=this.name;if(!d){return}var e=a.fieldValue(this,b);if(e&&e.constructor==Array){for(var f=0,g=e.length;f<g;f++){c.push({name:d,value:e[f]})}}else if(e!==null&&typeof e!="undefined"){c.push({name:this.name,value:e})}});return a.param(c)};a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d];var g=a.fieldValue(f,b);if(g===null||typeof g=="undefined"||g.constructor==Array&&!g.length){continue}if(g.constructor==Array)a.merge(c,g);else c.push(g)}return c};a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(c===undefined){c=true}if(c&&(!d||b.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!b.checked||(e=="submit"||e=="image")&&b.form&&b.form.clk!=b||f=="select"&&b.selectedIndex==-1)){return null}if(f=="select"){var g=b.selectedIndex;if(g<0){return null}var h=[],i=b.options;var j=e=="select-one";var k=j?g+1:i.length;for(var l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=m.value;if(!n){n=m.attributes&&m.attributes["value"]&&!m.attributes["value"].specified?m.text:m.value}if(j){return n}h.push(n)}}return h}return a(b).val()};a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})};a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();if(c.test(d)||e=="textarea"){this.value=""}else if(d=="checkbox"||d=="radio"){this.checked=false}else if(e=="select"){this.selectedIndex=-1}else if(b){if(b===true&&/hidden/.test(d)||typeof b=="string"&&a(this).is(b))this.value=""}})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};a.fn.enable=function(a){if(a===undefined){a=true}return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){if(b===undefined){b=true}return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio"){this.checked=b}else if(this.tagName.toLowerCase()=="option"){var d=a(this).parent("select");if(b&&d[0]&&d[0].type=="select-one"){d.find("option").selected(false)}this.selected=b}})};a.fn.ajaxSubmit.debug=false})(jQuery)